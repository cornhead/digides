\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{summary}[2021/07/15 Custom package for summaries of lectures]

\RequirePackage{amsfonts,amsmath,amssymb,amsthm} 
\RequirePackage{stmaryrd}
\RequirePackage{semantic}

\RequirePackage{tcolorbox}
\RequirePackage{xcolor}

\RequirePackage{ifthen}

\newcommand\summaryLang{german}


%% TODO: automatically detect language as given by yml-variables
\DeclareOption{english}{ \renewcommand\summaryLang{english}}
\DeclareOption{german}{  \renewcommand\summaryLang{german}}
\DeclareOption*{ \PackageWarning{summary}{Option '\CurrentOption' unknown. Please choose either 'german' or 'english'. (default is german)} }
\ProcessOptions\relax

\newcommand{\Github}{\href{https://github.com/cornhead/zusammenfassungen.git}{Github} }

%% german strings
\newcommand\summaryStrDisclaimer{An dieser Zusammenfassung und der zugeh√∂rigen Formelsammlung kann gerne auf \Github mitgewirkt werden!}
\newcommand\summaryStrExample{Beispiel}
\newcommand\summaryStrNote{Bemerkung}
\newcommand\summaryStrTheorem{Satz}

\ifthenelse{ \equal{\summaryLang}{english} }
{ %% english strings
	\renewcommand\summaryStrDisclaimer{Contributions to this summary and the corresponding formula sheet are welcomed on \Github. }
	\renewcommand\summaryStrExample{Example}
	\renewcommand\summaryStrNote{Bemerkung}
	\renewcommand\summaryStrTheorem{Satz}
}
{}









\renewcommand{\epsilon}{\varepsilon}
\newcommand{\E}{\mathcal{E}}
\renewcommand{\div}{\textbf{Div}~}
\newcommand{\rot}{\textbf{Rot}~}


%% TODO: the following code was meant to avoid code duplication but then, all boxes were red. I would like to force immediated expansion of the macros (thats what the thing with the roman numerals is for) but it did not work
%
%% 1: name of box, 2: color, 3: title-prefix
%\newcommand\DefineNewSummaryBox[3]{
%	\def\nsbName{#1}
%	\def\nsbColor{#2}
%	\def\nsbPrefix{#3}
%	
%	\romannumeral-`X\newtcolorbox[auto counter, number within=section]{\nsbName}[1][]{colback=\nsbColor!5!white, colframe=\nsbColor!75!black, title={\nsbPrefix ~ \thetcbcounter: #1}}
%	\romannumeral-`X\newtcolorbox{\nsbName*}{colback=\nsbColor!5!white, colframe=\nsbColor!75!black}
%}
%
%\romannumeral-`X\DefineNewSummaryBox{example}{green}{\summaryStrExample}
%\romannumeral-`X\DefineNewSummaryBox{note}{blue}{\summaryStrNote}
%\romannumeral-`X\DefineNewSummaryBox{theorem}{red}{\summaryStrTheorem}


% as alternative to the above code, here is a different code with code duplication
\newcommand\summaryNoteColor{blue}
\newcommand\summaryExampleColor{green}
\newcommand\summaryTheoremColor{red}

\newtcolorbox[auto counter, number within=section]{note}[1]{colback=\summaryNoteColor!5!white, colframe=\summaryNoteColor!75!black, title={\summaryStrNote ~ \thetcbcounter: #1}}
%\newtcolorbox{note*}{colback=\summaryNoteColor!5!white, colframe=\summaryNoteColor!75!black}
\newtcolorbox[auto counter, number within=section]{example}[1]{colback=\summaryExampleColor!5!white, colframe=\summaryExampleColor!75!black, title={\summaryStrExample ~ \thetcbcounter: #1}}
%\newtcolorbox{example*}{colback=\summaryExampleColor!5!white, colframe=\summaryExampleColor!75!black}
\newtcolorbox[auto counter, number within=section]{theorem}[1]{colback=\summaryTheoremColor!5!white, colframe=\summaryTheoremColor!75!black, title={\summaryStrTheorem ~ \thetcbcounter: #1}}
%\newtcolorbox{theorem*}{colback=\summaryTheoremColor!5!white, colframe=\summaryTheoremColor!75!black}


\newcommand{\makedisclaimer}{
	\vspace{1.5cm}
	\begin{note}
	\textbf{\summaryStrDisclaimer}
	\end{note}
	\vspace{1.5cm}
}

